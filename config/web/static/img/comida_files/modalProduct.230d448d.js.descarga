(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["modalProduct"],{4847:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));o("99af");var c=o("bc3a"),i=o.n(c),r=o("4360"),a={SearchProduct:function(e,t){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/search/index.json?query=").concat(e,"&supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service),cancelToken:t})},getProductModal:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/products/").concat(r["a"].state.shared.product_id,".json")})},getProducts:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/products.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service)})},getCategories:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/categorias.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service)})},getCategoriesByMain:function(e){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/categorias.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service,"&main_category_id=").concat(e)})},getPromos:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/promociones.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service)})},getMainCategories:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/main_categories.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service,"&subservice=").concat(r["a"].state.order.subservice)})},getMainCategory:function(e){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/main_categories/").concat(e,".json")})},getCategoriesImages:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/categories.json?supplier_id=").concat(r["a"].state.customer.supplier.id)})},getContentHome:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/content_home.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service,"&subservice=").concat(r["a"].state.order.subservice)})},getUpsellingProducts:function(){return i()({method:"get",url:"".concat("https://exp2.cluvi.com","/domain_v2/upselling_products.json?supplier_id=").concat(r["a"].state.customer.supplier.id,"&service=").concat(r["a"].state.order.service,"&trigger=precheckout")})}}},"48d4":function(e,t,o){},9782:function(e,t,o){"use strict";o.r(t);var c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[e.product.id?o("v-dialog",{staticClass:"modal-product",attrs:{scrollable:"",transition:"dialog-bottom-transition","max-width":"600"},on:{"click:outside":function(t){return e.closeProduct()}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-btn",{staticClass:"mx-2 close-product-dialog",staticStyle:{position:"fixed","z-index":"9999"},attrs:{icon:"",fab:"",light:"",small:"",color:"black"},on:{click:function(t){return e.closeProduct()}}},[o("v-icon",{attrs:{dark:""}},[e._v("fa-light fa-xmark")])],1),"on_table"!==e.service||e.validateOnTableAddCheckout?e._e():o("product-view",{staticClass:"card-modal",attrs:{instance:e.instance,product:e.product,service:e.service,pdf_url:e.pdf_url,show_pdf:e.show_pdf,video_id:e.video_id,supplier:e.supplier,show_video:e.show_video},on:{showPopup:e.showPopup,closePopup:e.closePopup,closeProduct:e.closeProduct}}),"on_table"===e.service&&e.validateOnTableAddCheckout?o("product-on-table",{staticClass:"card-modal",attrs:{instance:e.instance,product:e.product,profile:e.profile,service:e.service,pdf_url:e.pdf_url,show_pdf:e.show_pdf,video_id:e.video_id,supplier:e.supplier,show_video:e.show_video,session:e.session,productInCook:e.productInCook,mainCategoryId:e.mainCategoryId,subservice:e.subservice,otPurchaseId:e.otPurchaseId,countProductsList:e.countProductsList,tableId:String(e.tableId)},on:{showPopup:e.showPopup,closePopup:e.closePopup,closeProduct:e.closeProduct}}):e._e(),"take_away"===e.service||"delivery"===e.service?o("product-delivery-take-away",{staticClass:"card-modal",attrs:{instance:e.instance,product:e.product,service:e.service,pdf_url:e.pdf_url,show_pdf:e.show_pdf,video_id:e.video_id,supplier:e.supplier,show_video:e.show_video},on:{showPopup:e.showPopup,closePopup:e.closePopup,closeProduct:e.closeProduct}}):e._e()],1):e._e(),o("v-dialog",{attrs:{persistent:"","max-width":"500px",transition:"dialog-transition"},model:{value:e.validateAge,callback:function(t){e.validateAge=t},expression:"validateAge"}},[o("age-validate",{on:{onAge:e.onAge}})],1)],1)},i=[],r=o("1da1"),a=o("5530"),s=(o("96cf"),o("d3b7"),o("3ca3"),o("ddb0"),o("99af"),o("01d9")),n=o("4847"),d=o("2f62"),u=function(){return Promise.all([o.e("productDeliveryTakeAway~productOnTable~productView"),o.e("productView")]).then(o.bind(null,"ca56"))},l=function(){return Promise.all([o.e("book~bookCreatePopup~bookingDetail~checkout~cluviPay~deliveryOrder~home~location~menu~menuSubCategor~addc6e3c"),o.e("productDeliveryTakeAway~productOnTable~productView"),o.e("productDeliveryTakeAway~productOnTable"),o.e("productOnTable")]).then(o.bind(null,"46ab"))},p=function(){return Promise.all([o.e("book~bookCreatePopup~bookingDetail~checkout~cluviPay~deliveryOrder~home~location~menu~menuSubCategor~addc6e3c"),o.e("productDeliveryTakeAway~productOnTable~productView"),o.e("productDeliveryTakeAway~productOnTable"),o.e("productDeliveryTakeAway")]).then(o.bind(null,"2aa8"))},v=function(){return o.e("ageValidate").then(o.bind(null,"33f7"))},h={name:"ModalProduct",components:{ProductView:u,ProductOnTable:l,ProductDeliveryTakeAway:p,AgeValidate:v},data:function(){return{dialog:!1,validateAge:!1,show_pdf:!1,show_video:!1,video_id:void 0,pdf_url:void 0,product:{id:""}}},props:["seeProduct"],created:function(){""===this.service&&this.setMenuDigital()},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(d["d"])("customer",["instance","supplier"])),Object(d["d"])("shared",["product_id","legal","mainCategoryId"])),Object(d["d"])("order",["service","subservice","otPurchaseId","countProductsList"])),Object(d["d"])("profile",["profile","session"])),Object(d["d"])("ontable",["productInCook","tableId"])),{},{validateOnTableAddCheckout:function(){return"on_table"===this.service&&"checkout"===this.supplier.on_table_class||"on_table"===this.service&&"my-list"===this.supplier.on_table_class||"on_table"===this.service&&"room"===this.subservice}}),mounted:function(){this.GetProduct(),this.dialog=!0},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(d["c"])("template",["TemplateDisableHeader"])),Object(d["b"])("order",["setMenuDigital"])),Object(d["c"])("shared",["SetCategory","SetProductId"])),{},{onAge:function(e){!1===e?this.validateAge=!1:(this.closeProduct(),this.validateAge=!0)},closeProduct:function(){this.$emit("closeProduct")},GetProduct:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n["a"].getProductModal();case 3:o=t.sent,e.product=o.data,s["a"].trackView(e,e.product.label,"/".concat(e.supplier.slug,"/").concat(e.product.id,"/producto")),s["a"].trackEventCluvi({product:e.product},"view product"),e.product.is_alcoholic&&!e.legal.mayor_edad&&"BR"!==e.instance.country_code&&(e.validateAge=!0),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},showPopup:function(e,t){switch(e){case"youtube":this.video=!0,this.show_video=!0,this.video_id=t;break;case"pdf":this.show_pdf=!0,this.pdf_url=t;break}},closePopup:function(e){switch(e){case"video":this.show_video=!1,this.video_id=void 0;break;case"pdf":this.show_pdf=!1,this.pdf_url=void 0;break}}}),watch:{dialog:function(e){!1===e&&this.closeProduct()}}},m=h,b=(o("983d"),o("2877")),_=o("6544"),g=o.n(_),f=o("8336"),w=o("a523"),P=o("169a"),k=o("132d"),y=Object(b["a"])(m,c,i,!1,null,null,null);t["default"]=y.exports;g()(y,{VBtn:f["a"],VContainer:w["a"],VDialog:P["a"],VIcon:k["a"]})},"983d":function(e,t,o){"use strict";o("48d4")}}]);
//# sourceMappingURL=modalProduct.230d448d.js.map